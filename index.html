<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>GlobalWAMP - Wonderful Approach on Maps for Periodistas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GlobalWAMP - Wonderful Approach on Maps for Journalists">
    <meta name="author" content="osk">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=News+Cycle:400,700|Merriweather:400,300,700">
    <link href='http://fonts.googleapis.com/css?family=Merienda+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Trade+Winds' rel='stylesheet' type='text/css'>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=News+Cycle:400,700|Merriweather:400,300,700">    
    <link rel="shortcut icon" href="img/ico/favicon.png">
    <link href="css/globalwamp.css" rel="stylesheet">
    

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="lib/html5shiv.js"></script>
    <![endif]-->

    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="lib/jquery.scrollTo-1.4.3.1-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-url-parser/2.3.1/purl.min.js"></script>      
    <script type="text/javascript" src="lib/jquery-localize/build/jquery.localize.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script type="text/javascript">
      
    </script>
  </head>

  <body>
  <a href="https://github.com/globalwamp/globalwamp"><img style="position: fixed; top: 41px; right: 0; border: 0; z-index:100;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
    <div class="container-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <img src="img/miniglobalwamp.png" alt="GlobalWamp" class="pull-left">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="nav-collapse collapse pull-right">
            <ul class="nav">
              <li ><a data-localize="goToDescripcion" href="#descripcion">Descripción</a></li>
              <li class="active"><a data-localize="goToGenerar" href="#generator" style="font-weight:bold;color:white;background-color:#111111">Armá tu mapa</a></li>
              <li style="display:none"><a data-localize="goToComoUsar" href="#comoseusa">Cómo se usa</a></li>                
            </ul>
          </div>
        </div>
      </div>
    </div>      
    </div>   
    <header class="hero-unit hidden-phone" data-speed="5" data-type="background">
      <div class="container-fluid text-center">
          <!--div class="row-fluid"> 
            <div class="span12  text-center"><h2><span class="wamp hidden-tablet hidden-phone">Web Anamorphic Maps Player</span></h2>
          </div--><!--span12-->
          <!--</div>row-fluid-->
          <div class="row-fluid"> 
           <div class="span12  text-center">
            <h2><span class="wamp hidden-phone"><b style="color:red;">W</b>onderful <b style="color:red;">A</b>pproach on <b style="color:red;">M</b>aps for <b style="color:red;">P</b>eriodistas</span></h2>
            </div><!--span12-->
          </div>
          <div class="row-fluid"> 
            <div class="span5">
              <img src="img/globalwamp.png" alt="GlobalWamp">
              <!--h1>Argen<span class="Vis">WAMP</span><br/></h1-->
            </div><!--span6-->
            <div class="span7">
              <iframe title="mapa creado con GlobalWamp" style="width:100%;border:1px dashed #ccc" src='iframe.html?source=0AqdTbs1TYvZKdE10TFRsa1BISE50amVTeUVNUDVqNkE;' height='290'></iframe>   
            </div><!--span6-->
          </div><!--row-fluid-->
      </div>
    </header>
    
    <div class="container">
            
      <section id="generator" data-speed="5" data-type="background">
        <div class="page-header">
          <h2 data-localize="tituloGenerar">Armá tu mapa<br><small data-localize="tituloGenerarsmall"> a partir de una hoja de cálculo.</small></h2>
        </div>
        <div class="row-fluid">
          <div class="span12">
            <div class="lead">
              <h4 class="textorecto" data-localize="tituloReq">Requerimientos</h4>
              <ul class="textorecto">
                <li>Tenés que estar familiarizado con <a href="http://es.wikipedia.org/wiki/Google_Docs" target="_blank">Google Docs</a> y las hojas de cálculo.</li>
                <li>Necesitás tener una <a href="https://accounts.google.com/SignUp" target="_blank">cuenta de Google Docs</a>.</li>
                <li>Y si querés usar algo más que marcadores, necesitás saber de <a href="http://es.wikipedia.org/wiki/Web_Map_Service" target="_blank">WMS</a> y <a href="http://es.wikipedia.org/wiki/KML" target="_blank">KML</a>.</li>
              </ul>
            </div>
          </div>
        </div>
       <div class="row-fluid bg">
          <div class="span3 offset1">
            <h2>Paso 1</h2>
            <h3>Creá una nueva spreadsheet a partir de la plantilla</h3>
          </div><!--span4-->
          <div class="span7">
            <p>
              <br>
              <a target="_blank" class="btn btn-primary" href="https://drive.google.com/previewtemplate?id=0AqdTbs1TYvZKdE10TFRsa1BISE50amVTeUVNUDVqNkE&mode=public">Copiá la Plantilla de Mapa &raquo;</a>
            </p>
            <p>
              <em>Necesitás haber iniciado sesión con tu cuenta de Google para que la copia de la plantilla quede en tu Drive.</em>
            </p>
          </div><!--span8-->
        </div><!--row-fluid-->
        <hr/>
        <div class="row-fluid bg">
          <div class="span3 offset1">
            <h2>Paso 2</h2>         
            <h3>Publicala en la web</h3>
          </div><!--span4-->
          <div class="span7">
            <p>
              Una vez que hiciste una copia de la plantilla de mapa e hiciste tus modificaciones a los marcadores para probar cómo funciona, tenés que <em>Publicar</em> la hoja de cálculo.
            </p>
            <div class="lead">
              <h4 class="textorecto">¿Cómo se publica una spreadshet?</h4>
              <ul class="textorecto">
                <li>
                  En el menú Archivo, seleccioná <em>"Publicar en la Web"</em>.
                </li>
                <li>
                  En la siguiente ventana, tildá la casilla <em>"Volver a publicar automáticamente cuando se realicen los cambios"</em>
                </li>
                <li>
                  Asegurate de que todas las demás casillas estén destildadas.
                </li>
                <li>Hacé click en <em>"Iniciar la publicación"</em>. Al hacer esto, 
                  te da una URL para incrustar la spreadsheet en tu archivo HTML.
                </li>
              </ul>
            </div>
            <div class="row-fluid">
              <div class="span6">
                <img alt="imagen que remarca dónde se encuentra la opción de publiar en la web en Google Docs" src="img/publicarenweb.png" />
              </div><!--span6-->
              <div class="span6">
                <img alt="imagen que remarca dónde está el link permanente para un google doc publicado" src="img/codigoembed.png" />
              </div><!--span6-->            
            </div>
          </div><!--span8-->
        </div><!--row-fluid-->      
        <hr />
        <div class="row-fluid bg">
          <div class="span3 offset1">
            <h2>Paso 3</h2>
              <h3>Pegá la URL pública de tu spreadsheet</h3>
            <p>
              <em>Después de copiar la URL que google te da, podés copiar el</em> <strong>Código para incrustar</strong> <em>y pegarlo en tu sitio (tal cual como
              harías para incrustar un video de Youtube por ejemplo).</em>
            </p>
          </div><!--span4-->
          <div class="span7">
            <form id="create-form" class="form-horizontal">
              <fieldset >
                <legend>Generador de mapa</legend>
                <!-- Required elements for embed-->
                <!-- Embed Source-->
                <!-- Embed Optional-->
                <div class="control-group">
                  <label for="embed-source-url" class="control-label"><strong>URL pública de tu Google Spreadsheet</strong></label>
                  <div class="controls">
                    <input type="text" id="embed-source-url">
                    <p class="help-inline"><em style="color:white;">Asegurate de haberla publicado.</em></p>
                  </div>
                </div>
                <!-- Size-->
                <div class="control-group">
                  <label  for="embed-width" class="control-label">Tamaño</label>
                  <div class="controls">
                    <div class="input-prepend"><span class="add-on">Ancho</span>
                      <input type="text" value="100%" placeholder="100%" id="embed-width" class="input-mini">
                    </div>
                  <label  for="embed-height" style="display:none">Alto</label>
                    <div class="input-prepend"><span class="add-on">Alto</span>
                      <input type="text" value="500" placeholder="500" id="embed-height" class="input-mini">
                    </div>
                  </div>
                </div>
                <!-- Embed Optional-->
                <div class="control-group">
                  <label for="embed-code" class="control-label"><strong>Código para incrustar</strong></label>
                  <div class="controls">
                    <textarea  style="width: 100%; height: 100px; min-height: 110px; max-height: 300px; resize: none; font-family: 'Courier New',monospace;font-size:.8em" id="embed-code">
&lt;iframe src='http://globalwamp.github.io/iframe.html?source=0AqdTbs1TYvZKdE10TFRsa1BISE50amVTeUVNUDVqNkE' width='600' height='500' frameborder='0'&gt;&lt;/iframe&gt;</textarea>
                    <p><em>Copiá este código y pegalo en donde quieras que tu mapa aparezca.</em></p>
                    <hr/>
                    <div style="margin-top:20px;"><input id="iframe-preview-button" type="submit" class="btn btn-primary" value="Previsualizar" />&nbsp;<a href="iframe.html?source=0AqdTbs1TYvZKdE10TFRsa1BISE50amVTeUVNUDVqNkE" class="btn btn-success" target="_blank" id="preview-embed-link" >Link a la previsualización</a></div>
                  </div>
                </div>
              </fieldset>
            </form>
          </div><!--span8-->
        </div><!--row-fluid-->       
      </section>
      <section style="display:none" id="preview-embed">
        <div class="page-header">
          <h2>Previsualización</h2>
        </div>       

        <div class="row-fluid">
          <div class="span12">
            <!-- Place this tag where you want the share button to render. -->
            <div style="float:right">
              <div class="g-plus" data-action="share" data-width="200" data-height="24"></div>

              <!-- Place this tag after the last share tag. -->
              <script type="text/javascript">
                window.___gcfg = {lang: 'es-419'};

                (function() {
                  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                  po.src = 'https://apis.google.com/js/plusone.js';
                  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                })();
              </script>
            </div>
          </div>
        </div>         
        <div class="row-fluid" >
          <div class="span12" >
            <div id="preview">
            </div>
          </div>
        </div>
      </section>
      <section  style="display:none" id="comoseusa" data-speed="5" data-type="background">
        <div class="page-header">
          <h2>Cómo se usa GlobalWamp</h2>
        </div>
        <div class="lead tradewinds">
          <p>GlobalWamp permite definir un mapa completando celdas en la hoja de cálculo.</p>
        </div>
        <h3>
          Esta es la descripción acerca de cómo completar las columnas
          de la hoja de cálculo para generar un mapa.
        </h3>
        <div class="row-fluid bg" >
          <div class="span10 offset1">
            <h4>Columna Tipo_recurso</h4>
            <p>
              Los valores posibles son:
            </p>            
            <dl>
              <dt><code>centro</code></dt>
                <dd>define a esta fila como un descriptor de la vista inicial del mapa.</dd>
              <dt><code>kml</code></dt>
                <dd>define a esta fila como un descriptor de una URL de un KML.</dd>              
              <dt><code>marcador</code></dt>
                <dd>define que a esta fila va describir un punto geográfico sobre el mapa.</dd>                            
              <dt><code>wms</code></dt>
                <dd>define a esta fila como un descriptor de una capa de datos en un servicio de mapas WMS.</dd>
            </dl>
            <div class="divider"></div>                                          
            <p>
              <h4>Columna Titulo</h4>
            </p>
            <p>
              Este campo sólo sirve para las filas del tipo <code>marcador</code> y <code>centro</code>.
            </p>            
            <dl>
              <dt>En la fila de tipo <code>centro</code></dt>
                <dd>Define el título del mapa. Esto aparece sobre un rectángulo translucido.</dd>
              <dt>En las filas de tipo <code>marcador</code></dt>
                <dd>Define la etiqueta de un marcador, que se ve al ponel el mouse soebre el marcador sin clickear y el título
                  de que aparecerá en el globito que presenta la información de la columna <code>Descripcion</code> al hacer click sobre el marcador.</dd>                            
            </dl>
            <div class="divider"></div>
            <p>
              <h4>Columna Recurso</h4>
            </p>
            <p>
              Este campo es la parte importante de cada fila. Acepta un par de coordenadas o un texto
              que GlobalWamp intentará geocodificar.
            </p>  
            <dl>
              <dt>En la fila de tipo <code>centro</code></dt>
                <dd>Define el centro inicial  del mapa.</dd>
              <dt>En las filas de tipo <code>marcador</code></dt>
                <dd>Define la posición geográfica del punto que el marcador representa.</dd>                            
              <dt>En las filas de tipo <code>KML</code></dt>
                <dd>Define la URL del KML que queremos superponer sobre el  mapa.</dd> 
              <dt>En las filas de tipo <code>WMS</code></dt>
                <dd>Define la URL base del servicios WMS. <strong>No la URL del capabilities</strong>.</dd>
            </dl>
            <div class="divider"></div>
            <p>
              <h4>Columna Capa</h4>
            </p>
            <p>
              El nombre de esta columna sólo tiene sentido para las filas de tipo <code>WMS</code> y <code>marcador</code>.
            </p>  
            <dl>
              <dt>En la fila de tipo <code>WMS</code></dt>
                <dd>Define qué capas queremos del servicios WMS. Este texto se pasa directamente como parámetro<code>LAYERS</code> al servicio WMS, es decir podés especificar más de una capa separa por comas, sin dejar espacios.</dd>
              <dt>En las filas de tipo <code>marcador</code></dt>
                <dd>Define la la URL de un ícono para utilizar como marcador. Debería ser un png que esté online en culquier URL. No hace falta que vos publiques el ícono si ya tenés la URL de un PNG que esté online.</dd>
            </dl>

          </div><!--span-->
        </div><!--row-fluid-->
      </section>
      <section id="descripcion" data-speed="5" data-type="background">
        <div class="page-header">
          <h2>Descripción</h2>
        </div>
        <div class="row-fluid">
          <ul class=" thumbnails">
            <li class="span4 ">
              <div class="thumbnail">
              <p>
                GlobalWamp es una herramienta que te permite construir mapas web con datos
                guardados en una Google Spreadsheet. El código de GlobalWamp está disponible bajo una licencia libre.
              </p>
              </div>            
            </li><!--span6-->
            <li class="span4">
              <div class="thumbnail">
              <ul>
                  <li><strong>Este mapa va a estar siempre online</strong> tengas o no servidor porque se basa en la infraestructura de Google Docs.</li>
                  <li>Podés incrustar el mapa en tu web o compartir el link.</li>
              </ul> 
              </div>           
            </li>
            <li class="span4">
              <div class="thumbnail">
                <p>
                  Puede traer datos de múltiples fuentes y soporta:
                </p>
                <ul>
                  <li>Marcadores a partir de coordenadas o Geocoding (basado en nominatim de OpenStreetMap).</li>
                  <li>Capas <a href="http://es.wikipedia.org/wiki/KML" target="_blank">KML</a> ya publicadas en la web.</li>
                  <li>Capas <a href="http://es.wikipedia.org/wiki/Web_Map_Service" target="_blank">WMS</a> en <code>SRS=EPSG:3857</code>.</li>              
                </ul><!--span6-->          
              </div>
          </ul>
        </div><!--row-fluid-->
        
      </section>       
    </div>
    <footer class="footer">
      <div class="container">
        <div class="row-fluid">
          <div class="span12">
            <a target="_blank" href="http://github.com/globalwamp/globalwamp">Repo en Github</a>.            
          </div>  
        </div>
      </div>
    </footer>

    <script type="text/javascript">
      $(function(){
        var opts = {pathPrefix: "./lang", skipLanguage: ["es", "es-AR"] } };
        $("[data-localize]").localize("index", opts)
      });


      $(document).ready(function() {

        $('#create-form').submit(function() {
          var id = '';
          var google_docs_url = $('#embed-source-url').val();

            //console.log(google_docs_url);
          var iframe = "&lt;iframe src='{url_embed}?source={source}&amp;' width='{width}' height='{height}' frameborder='0'&gt;&lt;/iframe&gt;";
          var url_embed = 'http://olopez.com.ar/globalwamp/globalwamp/iframe.html';
          if ( google_docs_url) {
            id = $.url(google_docs_url).param('key');
          } else {
            id = '0AqdTbs1TYvZKdE10TFRsa1BISE50amVTeUVNUDVqNkE';
          }          
          
          var width = $('#embed-width').val();
          var height = $('#embed-height').val();
          iframe = iframe.replace('{url_embed}', url_embed);
          iframe = iframe.replace('{source}', id);
          iframe = iframe.replace('{width}', width );
          iframe = iframe.replace('{height}', height );
          $('#embed-code').html(iframe);
          $('#preview-embed-link').attr('href', url_embed + '?source=' + id);
          $('#preview-embed').fadeIn('fast', function() {
            $('#preview').html(iframe);
            $('#preview').html($('#preview').text());
            $.scrollTo('#preview-embed', 500);            
          });


          return false;
        })

        
      });
      
 
    </script>
  </body>

</html>
